# project-2_bazhenov_M25-555

## Управление таблицами

Проект предоставляет простой интерфейс для управления таблицами в базе данных. Все команды выполняются в интерактивном режиме после запуска программы.

### Доступные команды

#### `create_table <имя_таблицы> <столбец1:тип> [столбец2:тип] ...`

Создает новую таблицу с указанным именем и столбцами.

**Параметры:**
- `<имя_таблицы>` — уникальное имя таблицы
- `<столбец:тип>` — один или несколько столбцов в формате `имя:тип`

**Поддерживаемые типы данных:**
- `int` — целое число
- `str` — строка
- `bool` — логическое значение

**Особенности:**
- Если столбец `ID` не указан, он автоматически добавляется первым столбцом с типом `int`
- Если столбец `ID` указан, но имеет другой тип, он автоматически преобразуется в `int` и перемещается на первое место

**Примеры использования:**

```bash
# Создание таблицы с автоматическим добавлением ID
create_table users name:str email:str age:int

# Создание таблицы с явным указанием ID
create_table products ID:int name:str price:int in_stock:bool

# Создание простой таблицы
create_table categories name:str active:bool
```

#### `list_tables`

Выводит список всех созданных таблиц в базе данных.

**Пример использования:**

```bash
list_tables
```

**Вывод:**
```
Список таблиц:
  - users
  - products
  - categories
```

#### `drop_table <имя_таблицы>`

Удаляет указанную таблицу из базы данных.

**Параметры:**
- `<имя_таблицы>` — имя таблицы для удаления

**Пример использования:**

```bash
drop_table users
```

#### `info <имя_таблицы>`

Выводит информацию о структуре таблицы.

**Параметры:**
- `<имя_таблицы>` — имя таблицы

**Пример использования:**

```bash
info users
```

**Вывод:**
```
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 5
```

## CRUD-операции

Проект поддерживает полный набор CRUD-операций (Create, Read, Update, Delete) для работы с данными в таблицах.

### Создание записей

#### `insert into <имя_таблицы> values (<значение1>, <значение2>, ...)`

Добавляет новую запись в указанную таблицу.

**Параметры:**
- `<имя_таблицы>` — имя таблицы
- `<значение1>, <значение2>, ...` — значения для всех столбцов (кроме ID, который генерируется автоматически)

**Особенности:**
- Строковые значения должны быть заключены в одинарные кавычки: `'текст'`
- Булевы значения можно указывать как `true`/`false` или `1`/`0`
- ID генерируется автоматически (максимальный существующий ID + 1)

**Примеры использования:**

```bash
# Вставка записи в таблицу users
insert into users values ('Sergei', 28, true)
```

**Вывод:**
```
Запись с ID=1 успешно добавлена в таблицу "users".
```

### Чтение записей

#### `select from <имя_таблицы> [where <столбец> = <значение>]`

Выводит записи из указанной таблицы. Может использоваться с условием WHERE для фильтрации или без него для вывода всех записей.

**Параметры:**
- `<имя_таблицы>` — имя таблицы
- `where <столбец> = <значение>` — опциональное условие фильтрации

**Особенности:**
- Результаты выводятся в виде красиво отформатированной таблицы с использованием PrettyTable
- Строковые значения в условии WHERE должны быть в одинарных кавычках
- Если записей не найдено, выводится сообщение "Записей не найдено."

**Примеры использования:**

```bash
# Вывод всех записей из таблицы users
select from users

# Вывод записей с условием WHERE
select from users where age = 28

# Вывод записей по строковому полю
select from users where name = 'Sergei'
```

**Вывод (пример):**
```
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
|  1 | Sergei |  28 |   True    |
|  2 |  Kira  |  19 |   True    |
+----+--------+-----+-----------+
```

### Обновление записей

#### `update <имя_таблицы> set <столбец> = <новое_значение> where <столбец_условия> = <значение_условия>`

Обновляет записи в таблице, соответствующие указанному условию WHERE.

**Параметры:**
- `<имя_таблицы>` — имя таблицы
- `set <столбец> = <новое_значение>` — столбец и новое значение для обновления
- `where <столбец_условия> = <значение_условия>` — условие для выбора записей

**Особенности:**
- Строковые значения должны быть в одинарных кавычках
- Нельзя изменять столбец ID
- Обновляются все записи, соответствующие условию WHERE

**Примеры использования:**

```bash
# Обновление возраста пользователя
update users set age = 29 where name = 'Sergei'

# Обновление статуса активности
update users set is_active = false where age = 28
```

**Вывод:**
```
Запись с ID={1} в таблице users успешно обновлена
# или для нескольких записей:
Записи с ID={1, 2} в таблице users успешно обновлены
```

### Удаление записей

#### `delete from <имя_таблицы> where <столбец_условия> = <значение_условия>`

Удаляет записи из таблицы, соответствующие указанному условию WHERE.

**Параметры:**
- `<имя_таблицы>` — имя таблицы
- `where <столбец_условия> = <значение_условия>` — условие для выбора записей для удаления

**Особенности:**
- Строковые значения должны быть в одинарных кавычках
- Удаляются все записи, соответствующие условию WHERE
- Операция необратима

**Примеры использования:**

```bash
# Удаление пользователя по имени
delete from users where name = 'Sergei'

# Удаление неактивных пользователей
delete from users where is_active = false
```

**Вывод:**
```
Запись с ID={1} успешно удалена из таблицы users
# или для нескольких записей:
Записи с ID={1, 2} успешно удалены из таблицы users
```

### Дополнительные команды

- `help` — выводит справочную информацию по всем доступным командам
- `exit` — завершает работу программы

## asciinema DDL

<a href="https://asciinema.org/a/Wy9si1hCMFqe52Ef" target="_blank"><img src="https://asciinema.org/a/Wy9si1hCMFqe52Ef.svg" /></a>

## asciinema DML

<a href="https://asciinema.org/a/4lOlM0qdtl4iaESh" target="_blank"><img src="https://asciinema.org/a/4lOlM0qdtl4iaESh.svg" /></a>
